(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n.p+"static/media/logo.a7ce87a3.png"},235:function(e,t,n){e.exports=n.p+"static/media/file.73e9524a.png"},284:function(e,t,n){"use strict";n.d(t,"a",(function(){return ft}));n(111);var r=n(487),a=n(488),o=n(9),i=n.n(o),c=n(3),s=n.n(c),l=n(0),u=n(4),d=n(12),h=n(34),f=n(26),p=n(67),b=n(62),m=n(15),w=n(128),j=n(75),x=n(44),g=n(286),y=Object(w.a)({apiKey:"AIzaSyDxqS-2MmrVRbhmg49Bx2P1b4f_lFeSkQ0",authDomain:"ounn-ea631.firebaseapp.com",databaseURL:"https://ounn-ea631-default-rtdb.firebaseio.com",projectId:"ounn-ea631",storageBucket:"ounn-ea631.appspot.com",messagingSenderId:"111990065034",appId:"1:111990065034:web:1b1a4a2fd6d9aef5db6a73",measurementId:"G-YL3CYJJN58"}),O=(Object(g.a)(y),y),v=n(180),k=n(1),S=n(479),C=(S.initializeAppCheck,S.ReCaptchaV3Provider,function(e){var t=e.navigation,r=Object(p.a)(),a=O;console.log("test");var o=Object(j.b)(a),c=l.useState(""),w=i()(c,2),g=w[0],y=w[1],S=l.useState(""),C=i()(S,2),P=C[0],T=C[1];return l.useEffect((function(){var e,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(v.a.getItem("credentials"));case 2:return e=r.sent,r.next=5,s.a.awrap(JSON.parse(e));case 5:void 0!=(n=r.sent)&&Object(j.c)(o,n.email,n.password).then((function(e){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("Home",{email:n.email,password:n.password});case 1:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){alert("User credentials not valid")}));case 7:case"end":return r.stop()}}),null,null,null,Promise)}),[]),Object(k.jsxs)(u.a,{style:{width:"flex",height:"100%",backgroundColor:"#191919",alignItems:"center"},children:[Object(k.jsx)(h.a,{resizeMode:"center",style:{width:r.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(119)}}),Object(k.jsxs)(u.a,{style:{marginTop:Object(m.a)("1%"),borderRadius:"20px",width:r.width<900?r.width-100:r.width/3,backgroundColor:"#2b2b2b",justifyContent:"center",alignItems:"center"},children:[Object(k.jsx)(d.a,{style:{color:"white",fontSize:Object(m.a)("5%"),fontWeight:"200",marginTop:Object(m.a)("5%")},children:"Login"}),Object(k.jsx)(b.a,{style:{marginTop:Object(m.a)("3%"),height:Object(m.a)("5%"),width:r.width<900?r.width/2:r.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(m.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){y(e)},textContentType:"emailAddress",placeholder:"Email"}),Object(k.jsx)(b.a,{style:{marginTop:Object(m.a)("3%"),height:Object(m.a)("5%"),width:r.width<900?r.width/2:r.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(m.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){T(e)},secureTextEntry:"true",passwordRules:"true",placeholder:"Password"}),Object(k.jsx)(f.a,{style:{marginTop:Object(m.a)("3%"),backgroundColor:"#ff5c5c",width:"150px",height:"40px",justifyContent:"center",alignItems:"center"},onPress:function(){s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.c)(o,g,P).then((function(e){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(v.a.setItem("credentials",JSON.stringify({email:g,password:P})));case 2:t.push("Home",{email:g,password:P});case 3:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){alert("User credentials not valid: "+e)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(k.jsx)(u.a,{children:Object(k.jsx)(d.a,{style:{color:"white"},children:"Send"})})}),Object(k.jsx)(f.a,{style:{marginTop:Object(m.a)("2%")},onPress:function(){t.push("SigIn",{auth:o})},children:Object(k.jsx)(d.a,{style:{fontSize:Object(m.a)("2%"),fontWeight:200,color:"white"},children:"SigIn now"})}),Object(k.jsx)(f.a,{style:{justifyContent:"center",alignItems:"center",marginTop:"3%",marginBottom:Object(m.a)("5%")},onPress:function(){t.push("Settings",{email:""})},children:Object(k.jsx)(x.a,{name:"information-outline",color:"white",size:20})})]})]})}),P=n(22),T=function(e){var t=e.route,r=e.navigation,a=Object(p.a)(),o=t.params.auth,c=Object(P.f)(),s=l.useState(""),w=i()(s,2),x=w[0],g=w[1],y=l.useState(""),O=i()(y,2),v=O[0],S=O[1],C=l.useState(""),T=i()(C,2),I=T[0],R=T[1],z=l.useState(""),A=i()(z,2),E=A[0],D=A[1];return Object(k.jsxs)(u.a,{style:{width:"flex",height:"100%",backgroundColor:"#191919",alignItems:"center"},children:[Object(k.jsx)(h.a,{resizeMode:"center",style:{width:a.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(119)}}),Object(k.jsxs)(u.a,{style:{marginTop:Object(m.a)("1%"),borderRadius:"20px",width:a.width<900?a.width-100:a.width/3,backgroundColor:"#2b2b2b",justifyContent:"center",alignItems:"center"},children:[Object(k.jsx)(d.a,{style:{color:"white",fontSize:Object(m.a)("5%"),fontWeight:"200",marginTop:Object(m.a)("5%")},children:"SigIn"}),Object(k.jsx)(b.a,{style:{marginTop:Object(m.a)("3%"),height:Object(m.a)("5%"),width:a.width<900?a.width/2:a.width/4,borderColor:"black",backgroundColor:"white",borderWidth:"1px",borderRadius:Object(m.a)("5%"),textAlign:"center"},onChangeText:function(e){g(e)},textContentType:"name",placeholder:"Name"}),Object(k.jsx)(b.a,{style:{marginTop:Object(m.a)("3%"),height:Object(m.a)("5%"),width:a.width<900?a.width/2:a.width/4,borderColor:"black",backgroundColor:"white",borderWidth:"1px",borderRadius:Object(m.a)("5%"),textAlign:"center"},onChangeText:function(e){S(e)},placeholder:"Surname"}),Object(k.jsx)(b.a,{style:{marginTop:Object(m.a)("3%"),height:Object(m.a)("5%"),width:a.width<900?a.width/2:a.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(m.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){R(e)},textContentType:"emailAddress",placeholder:"Email"}),Object(k.jsx)(b.a,{style:{marginTop:Object(m.a)("3%"),height:Object(m.a)("5%"),width:a.width<900?a.width/2:a.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(m.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){D(e)},secureTextEntry:"true",passwordRules:"true",placeholder:"Password"}),Object(k.jsx)(f.a,{style:{marginTop:Object(m.a)("3%"),backgroundColor:"#ff5c5c",width:"150px",height:"40px",justifyContent:"center",alignItems:"center"},onPress:function(){""!=x&&""!=v&&""!=I&&""!=E?E.length>=6?Object(j.a)(o,I.trim(),E.trim()).then((function(){Object(P.i)(Object(P.d)(c,"Utenti",I.replaceAll(".","DOT").trim()),{nome:x.trim(),cognome:v.trim()}),r.goBack(),alert("Registration has been completed successfully")})).catch((function(e){console.log(e),alert("This email already exist or is invalid")})):alert("Password has to be at least 6 character"):alert("Complete all fields")},children:Object(k.jsx)(u.a,{children:Object(k.jsx)(d.a,{style:{color:"white"},children:"Send"})})}),Object(k.jsx)(f.a,{style:{marginTop:Object(m.a)("2%"),marginBottom:Object(m.a)("5%")},onPress:function(){return r.goBack()},children:Object(k.jsx)(d.a,{style:{fontSize:Object(m.a)("2%"),fontWeight:200,color:"white"},children:"Go back"})})]})]})},I=n(28),R=n.n(I),z=n(23),A=n.n(z),E=n(79),D=n(90),L=n(51),W=n(88),U=(n(309),n(145)),B=n(285),M=n(266),N=n(8),J=n.n(N),H=n(19),F=n.n(H),G=n(20),K=n.n(G),V=n(267),Y=n(268),Q=n.n(Y),X=n(173),q=n.n(X),Z=n(269),$=n.n(Z),_=n(270),ee=n(271),te=n(272),ne=n(273);function re(e){return"string"===typeof e||e instanceof String||(t=e,ArrayBuffer.isView(t)||t instanceof ArrayBuffer)||function(e){return Boolean(e.constructor)&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}(e)||"_readableState"in e;var t}function ae(e){return re(e)?Object(te.normaliseInput)(e):Object(ne.normaliseInput)(e)}var oe=n(24),ie=n.n(oe),ce=n(25),se=n.n(ce),le=n(11),ue=n.n(le),de=n(135),he=n(146);function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue()(e);if(t){var a=ue()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return se()(this,n)}}var me=function(e){ie()(n,e);var t=be(n);function n(){var e;return F()(this,n),(e=t.call(this)).store=new Map,e}return K()(n,[{key:"blocks",value:s.a.mark((function e(){var t,n,r,a,o,c;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t=fe(this.store.entries());case 1:if((n=t()).done){e.next=10;break}return r=n.value,a=i()(r,2),o=a[0],c=a[1],e.next=8,{cid:de.CID.parse(o),bytes:c};case 8:e.next=1;break;case 10:case"end":return e.stop()}}),e,this,null,Promise)}))},{key:"put",value:function(e,t){return this.store.set(e.toString(),t),Promise.resolve()}},{key:"get",value:function(e){var t=this.store.get(e.toString());if(!t)throw new Error("block with cid "+e.toString()+" no found");return Promise.resolve(t)}},{key:"has",value:function(e){return Promise.resolve(this.store.has(e.toString()))}},{key:"close",value:function(){return this.store.clear(),Promise.resolve()}}]),n}(he.BaseBlockstore),we=n(85),je={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:we.sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};function xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t,n,r,a,o,i,c,l,u,d,h,f,p,b,m,w,j;return s.a.async((function(x){for(;;)switch(x.prev=x.next){case 0:if(t=e.input,n=e.blockstore,r=e.hasher,a=e.maxChunkSize,o=e.maxChildrenPerNode,i=e.wrapWithDirectory,c=e.rawLeaves,t&&(!Array.isArray(t)||t.length)){x.next=3;break}throw new Error("missing input file(s)");case 3:return l=n||new me,x.next=6,s.a.awrap(q()($()(ae(t),(function(e){return Object(ee.importer)(e,l,Oe(Oe({},je),{},{hasher:r||je.hasher,maxChunkSize:a||je.maxChunkSize,maxChildrenPerNode:o||je.maxChildrenPerNode,wrapWithDirectory:!1!==i&&je.wrapWithDirectory,rawLeaves:null==c?je.rawLeaves:c}))}))));case 6:if((u=x.sent)&&u.cid){x.next=9;break}throw new Error("given input could not be parsed correctly");case 9:return d=u.cid,x.next=12,s.a.awrap(_.CarWriter.create([d]));case 12:return h=x.sent,f=h.writer,p=h.out,b=p[Symbol.asyncIterator](),w=function(){var e,t,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=xe(l.blocks());case 1:if((t=e()).done){a.next=7;break}return r=t.value,a.next=5,s.a.awrap(f.put(r));case 5:a.next=1;break;case 7:return a.next=9,s.a.awrap(f.close());case 9:if(n){a.next=12;break}return a.next=12,s.a.awrap(l.close());case 12:case"end":return a.stop()}}),null,null,null,Promise)},j=J()({},Symbol.asyncIterator,(function(){if(null!=m)throw new Error("Multiple iterator not supported");return m=w(),{next:function(){return function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(b.next());case 2:if(!(e=t.sent).done){t.next=6;break}return t.next=6,s.a.awrap(m);case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}),null,null,null,Promise)}()}}})),x.abrupt("return",{root:d,out:j});case 19:case"end":return x.stop()}}),null,null,null,Promise)}var ke=n(178),Se=n(95),Ce=n.n(Se),Pe=n(174),Te=n(179),Ie=n(274);function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue()(e);if(t){var a=ue()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return se()(this,n)}}var ze=function(e){ie()(n,e);var t=Re(n);function n(e){var r;return F()(this,n),(r=t.call(this)).store=e,r}return K()(n,[{key:"get",value:function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(this.store.get(e));case 2:if(t=n.sent){n.next=5;break}throw new Error("Incomplete CAR. Block missing for CID "+e);case 5:if(Ae({cid:e,bytes:t})){n.next=7;break}throw new Error("Invalid CAR. Hash of block data does not match CID "+e);case 7:return n.abrupt("return",t);case 8:case"end":return n.stop()}}),null,this,null,Promise)}}],[{key:"fromBlockstore",value:function(e){return new n(e)}},{key:"fromCarReader",value:function(e){return new n({get:function(t){var n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(e.get(t));case 2:return n=r.sent,r.abrupt("return",null===n||void 0===n?void 0:n.bytes);case 4:case"end":return r.stop()}}),null,null,null,Promise)}})}}]),n}(he.BaseBlockstore);function Ae(e){var t,n,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.cid,n=e.bytes,a.next=3,s.a.awrap(we.sha256.digest(n));case 3:return r=a.sent,a.abrupt("return",Object(Ie.equals)(r.digest,t.multihash.digest));case 5:case"end":return a.stop()}}),null,null,null,Promise)}var Ee=s.a.mark((function(e,t){var n,r,a,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=ze.fromCarReader(e),t&&0!==t.length){i.next=5;break}return i.next=4,s.a.awrap(e.getRoots());case 4:t=i.sent;case 5:r=Le(t);case 6:if((a=r()).done){i.next=11;break}return o=a.value,i.delegateYield(Object(Te.recursive)(o,n,{}),"t0",9);case 9:i.next=6;break;case 11:case"end":return i.stop()}}),Ee,null,null,Promise)})),De=s.a.mark(Ue);function Le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e){var t,n,r,a,o,i,c,l,u,d,h,f,p=arguments;return s.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return t=p.length>1&&void 0!==p[1]?p[1]:{},n=t.roots,r=t.blockstore,b.next=3,s.a.awrap(Pe.CarBlockIterator.fromIterable(Be(e)));case 3:a=b.sent,o=r||new me,i=Le(a);case 6:if((c=i()).done){b.next=12;break}return l=c.value,b.next=10,s.a.awrap(o.put(l.cid,l.bytes));case 10:b.next=6;break;case 12:if(u=ze.fromBlockstore(o),n&&0!==n.length){b.next=17;break}return b.next=16,s.a.awrap(a.getRoots());case 16:n=b.sent;case 17:d=Le(n);case 18:if((h=d()).done){b.next=23;break}return f=h.value,b.delegateYield(Object(Te.recursive)(f,u),"t0",21);case 21:b.next=18;break;case 23:case"end":return b.stop()}}),De,null,null,Promise)}function Be(e){return Symbol.asyncIterator in e?e:Ce()(e)}var Me=n(275),Ne=n(136),Je=(n(169),globalThis.fetch),He=(globalThis.Request,globalThis.Response,globalThis.Blob),Fe=globalThis.File,Ge=me,Ke=s.a.mark(et);function Ve(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(){function e(){F()(this,e),this.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweGE4MjU5MDcyYkUxRmEwODhhZTA3MTI3OTg2NDVEY0VBRjFGNDMzREQiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTgyMjcyNTE1MTgsIm5hbWUiOiJvbm4ifQ.6AAz_KHuowFfJcxlf0jHbRoVEAKMv6iER_WSYkaUtr0",this.endpoint=new URL("https://api.web3.storage")}return K()(e,[{key:"put",value:function(t,n){return e.put(this,t,n)}},{key:"putCar",value:function(t,n){return e.putCar(this,t,n)}},{key:"get",value:function(t){return e.get(this,t)}},{key:"delete",value:function(t){return e.delete(this,t)}},{key:"status",value:function(t){return e.status(this,t)}},{key:"list",value:function(t){return e.list(this,t)}}],[{key:"headers",value:function(e){if(!e)throw new Error("missing token");return{Authorization:"Bearer "+e,"X-Client":"web3.storage/js"}}},{key:"put",value:function(t,n){var r,a,o,i,c,l,u,d,h,f,p,b,m,w,j,x=arguments;return s.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return r=t.endpoint,a=t.token,o=x.length>2&&void 0!==x[2]?x[2]:{},i=o.onRootCidReady,c=o.onStoredChunk,l=o.maxRetries,u=void 0===l?5:l,d=o.wrapWithDirectory,h=void 0===d||d,f=o.name,p=new Ge,g.prev=3,g.next=6,s.a.awrap(ve({input:Array.from(n).map((function(e){return{path:e.name,content:e.stream()}})),blockstore:p,wrapWithDirectory:h,maxChunkSize:1048576,maxChildrenPerNode:1024}));case 6:return b=g.sent,m=b.out,w=b.root,i&&i(w.toString()),g.next=12,s.a.awrap(Ne.CarReader.fromIterable(m));case 12:return j=g.sent,g.next=15,s.a.awrap(e.putCar({endpoint:r,token:a},j,{onStoredChunk:c,maxRetries:u,name:f}));case 15:return g.abrupt("return",g.sent);case 16:return g.prev=16,g.next=19,s.a.awrap(p.close());case 19:return g.finish(16);case 20:case"end":return g.stop()}}),null,null,[[3,,16,20]],Promise)}},{key:"putCar",value:function(t,n){var r,a,o,i,c,l,u,d,h,f,p,b,m,w,j,x,g,y,O=arguments;return s.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return r=t.endpoint,a=t.token,o=O.length>2&&void 0!==O[2]?O[2]:{},i=o.name,c=o.onStoredChunk,l=o.maxRetries,u=void 0===l?5:l,d=o.decoders,h=10485760,f=new URL("car",r),p=e.headers(a),i&&(p=Xe(Xe({},p),{},{"X-Name":encodeURIComponent(i)})),v.next=8,s.a.awrap(n.getRoots());case 8:if(null!=(b=v.sent)[0]){v.next=11;break}throw new Error("missing root CID");case 11:if(!(b.length>1)){v.next=13;break}throw new Error("too many roots");case 13:for(m=b[0].toString(),w=new Me.TreewalkCarSplitter(n,h,{decoders:d}),j=function(e){var t,n,r,a,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:for(t=[],n=Ve(e);!(r=n()).done;)a=r.value,t.push(a);return o=new He(t,{type:"application/car"}),l.next=5,s.a.awrap(Q()((function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(Je(f.toString(),{method:"POST",headers:p,body:o}));case 2:if(429!==(e=n.sent).status){n.next=5;break}throw new Error("rate limited");case 5:return n.next=7,s.a.awrap(e.json());case 7:if(t=n.sent,e.ok){n.next=10;break}throw new Error(t.message);case 10:if(t.cid===m){n.next=12;break}throw new Error("root CID mismatch, expected: "+m+", received: "+t.cid);case 12:return n.abrupt("return",t.cid);case 13:case"end":return n.stop()}}),null,null,null,Promise)}),{retries:u}));case 5:return i=l.sent,c&&c(o.size),l.abrupt("return",i);case 8:case"end":return l.stop()}}),null,null,null,Promise)},x=Object(V.a)(3,j),g=Ve(x(w.cars()));!(y=g()).done;)y.value;return v.abrupt("return",m);case 19:case"end":return v.stop()}}),null,null,null,Promise)}},{key:"get",value:function(t,n){var r,a,o,i;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=t.endpoint,a=t.token,o=new URL("car/"+n,r),c.next=4,s.a.awrap(Je(o.toString(),{method:"GET",headers:e.headers(a)}));case 4:if(429!==(i=c.sent).status){c.next=7;break}throw new Error("rate limited");case 7:return c.abrupt("return",_e(i));case 8:case"end":return c.stop()}}),null,null,null,Promise)}},{key:"delete",value:function(e,t){var n,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:throw n=e.endpoint,r=e.token,console.log("Not deleting",t,n,r),Error(".delete not implemented yet");case 3:case"end":return a.stop()}}),null,null,null,Promise)}},{key:"status",value:function(t,n){var r,a,o,i;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=t.endpoint,a=t.token,o=new URL("status/"+n,r),c.next=4,s.a.awrap(Je(o.toString(),{method:"GET",headers:e.headers(a)}));case 4:if(429!==(i=c.sent).status){c.next=7;break}throw new Error("rate limited");case 7:if(404!==i.status){c.next=9;break}return c.abrupt("return",void 0);case 9:if(i.ok){c.next=11;break}throw new Error(i.statusText);case 11:return c.abrupt("return",i.json());case 12:case"end":return c.stop()}}),null,null,null,Promise)}},{key:"list",value:s.a.mark((function t(n){var r,a,o,i,c,l,u,d,h,f,p,b,m,w,j,x=arguments;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:l=function(t,n){var r=t.endpoint,a=t.token,o=n.before,i=n.size,c=new URLSearchParams({before:o,size:i.toString()}),s=new URL("user/uploads?"+c,r);return Je(s.toString(),{method:"GET",headers:Xe(Xe({},e.headers(a)),{},{"Access-Control-Request-Headers":"Link"})})},r=x.length>1&&void 0!==x[1]?x[1]:{},a=r.before,o=void 0===a?(new Date).toISOString():a,i=r.maxResults,u=0,d=Ve(et(l,n,{before:o,size:(c=void 0===i?1/0:i)>100?100:c}));case 5:if((h=d()).done){t.next=28;break}if((f=h.value).ok){t.next=14;break}if(429!==f.status){t.next=10;break}throw new Error("rate limited");case 10:return t.next=12,s.a.awrap(f.json());case 12:throw p=t.sent,new Error(f.status+" "+f.statusText+" "+(p?"- "+p.message:""));case 14:return t.next=16,s.a.awrap(f.json());case 16:b=t.sent,m=Ve(b);case 18:if((w=m()).done){t.next=26;break}if(j=w.value,!(++u>c)){t.next=22;break}return t.abrupt("return");case 22:return t.next=24,j;case 24:t.next=18;break;case 26:t.next=5;break;case 28:case"end":return t.stop()}}),t,null,null,Promise)}))}]),e}();function Ze(e){var t,n,r,a,o,i,c,l;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:for(t=e.content,n=e.path,r=e.cid,a=[],o=Ve(t());!(i=o()).done;)c=i.value,a.push(c);return l=new Fe(a,$e(n)),s.abrupt("return",R()(l,{cid:r.toString()}));case 5:case"end":return s.stop()}}),null,null,null,Promise)}function $e(e){var t=e.indexOf("/");return-1===t?e:e.substring(t+1)}function _e(e){var t=R()(e,{unixFsIterator:s.a.mark((function t(){var n,r,a,o;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error("Response was not ok: "+e.status+" "+e.statusText+' - Check for { "ok": false } on the Response object before calling .unixFsIterator');case 2:if(e.body){t.next=4;break}throw new Error("No body on response");case 4:n=new Ge,t.prev=5,r=Ve(Ue(e.body,{blockstore:n}));case 7:if((a=r()).done){t.next=13;break}return o=a.value,t.next=11,o;case 11:t.next=7;break;case 13:return t.prev=13,t.next=16,s.a.awrap(n.close());case 16:return t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[5,,13,17]],Promise)})),files:function(){var n,r,a,o,i;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.ok){c.next=2;break}throw new Error("Response was not ok: "+e.status+" "+e.statusText+' - Check for { "ok": false } on the Response object before calling .files');case 2:n=[],r=Ve(t.unixFsIterator());case 4:if((a=r()).done){c.next=14;break}if("directory"!==(o=a.value).type){c.next=8;break}return c.abrupt("continue",12);case 8:return c.next=10,s.a.awrap(Ze(o));case 10:i=c.sent,n.push(i);case 12:c.next=4;break;case 14:return c.abrupt("return",n);case 15:case"end":return c.stop()}}),null,null,null,Promise)}});return t}function et(e,t,n){var r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(e(t,n));case 2:return r=o.sent,o.next=5,r;case 5:a=Object(ke.a)(r.headers.get("Link")||"");case 6:if(!a||!a.next){o.next=15;break}return o.next=9,s.a.awrap(e(t,a.next));case 9:return r=o.sent,o.next=12,r;case 12:a=Object(ke.a)(r.headers.get("Link")||""),o.next=6;break;case 15:case"end":return o.stop()}}),Ke,null,null,Promise)}var tt=n(276),nt=n.n(tt),rt=(n(315),n(172).default),at=!1,ot=new AbortController,it=new AbortController,ct=new qe({token:O.Web3StorageToken,abortController:ot}),st=function(e){var t=e.route,r=e.navigation,a=Object(p.a)(),o=Object(P.f)(),c=Object(j.b)(),b=l.useState([]),w=i()(b,2),g=w[0],y=w[1],v=l.useState([]),S=i()(v,2),C=S[0],T=S[1],I=l.useState(["Photos"]),z=i()(I,2),N=z[0],J=z[1],H=l.useState({value:0,total:100}),F=i()(H,2),G=F[0],K=F[1],V=l.useState(!1),Y=i()(V,2),Q=Y[0],X=Y[1],q=l.useState(!1),Z=i()(q,2),$=Z[0],_=Z[1],ee=l.useState(!1),te=i()(ee,2),ne=te[0],re=te[1],ae=l.useState({current:0,total:0}),oe=i()(ae,2),ie=oe[0],ce=oe[1],se=l.useState({}),le=i()(se,2),ue=le[0],de=le[1],he=l.useState(0),fe=i()(he,2),pe=fe[0],be=fe[1],me=function(e){return new Promise((function(n,r){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(at){r.next=3;break}return r.next=3,s.a.awrap(function(){var r,i,c,l,u;return s.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return at=!0,d.next=3,s.a.awrap(Object(P.e)(Object(P.h)(Object(P.b)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos"),Object(P.g)("data","desc"),Object(P.k)("dir","==",N))));case 3:return r=d.sent,T([]),d.next=7,s.a.awrap(Object(P.e)(Object(P.h)(Object(P.b)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"folders"),Object(P.k)("dir","==",N))));case 7:for(i=d.sent,c=function(e){T((function(t){return[].concat(A()(t),[{id:i.docs[e].id,name:i.docs[e].data().name,data:i.docs[e].data().data}])}))},l=0;l<i.docs.length;l++)c(l);for(u=0,0==r.docs.length&&n();u<r.docs.length;u++)g.includes(g.filter((function(e){return e.id===r.docs[u].id}))[0])?r.docs.length-1==u&&n():function(){var t={cid:r.docs[u].data().cid,data:r.docs[u].data().data,id:r.docs[u].id,name:r.docs[u].data().name,type:r.docs[u].data().type,size:r.docs[u].data().size,ranHeightImage:Math.random()<.5?void 0:a.width<900?Object(m.a)("20%"):Object(m.a)("25%")};try{t.notPrivate=r.docs[u].data().notPrivate}catch(o){}r.docs[u].id==e?(y((function(e){return[t].concat(A()(e))})),u=r.docs.length):y((function(e){return[].concat(A()(e),[t])})),r.docs.length-1==u&&n()}();case 13:case"end":return d.stop()}}),null,null,null,Promise)}());case 3:n();case 4:case"end":return r.stop()}}),null,null,null,Promise)}))};l.useEffect((function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:0==g.length&&(X(!0),_(!0),me().then((function(){at=!1,X(!1),_(!1)})));case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[g]),l.useEffect((function(){"diretta"==ue.modalita&&(void 0!=ue.size?je(1):xe(3))}),[ue]);var we=function(e){var n,r,a,i,c,l,u,d;return s.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:n=confirm("Do you want upload private (encrypted) or public (not encrypted) files? ('OK' for private, 'Cancel' for public)"),r=!1,a=0;case 3:if(!(a<e.length)){h.next=61;break}if(_(!0),X(!0),ce({current:a+1,total:e.length}),i=void 0,!n){h.next=28;break}for(c=new TextEncoder,l=t.params.password;l.length<16;)l+="k";return h.next=14,s.a.awrap(window.crypto.subtle.importKey("raw",c.encode(l),"AES-GCM",!1,["encrypt","decrypt"]));case 14:return u=h.sent,h.t0=s.a,h.t1=window.crypto.subtle,h.t2={name:"AES-GCM",iv:c.encode(l)},h.t3=u,h.next=21,s.a.awrap(e[a].arrayBuffer());case 21:return h.t4=h.sent,h.t5=h.t1.encrypt.call(h.t1,h.t2,h.t3,h.t4),h.next=25,h.t0.awrap.call(h.t0,h.t5);case 25:i=h.sent,h.next=31;break;case 28:return h.next=30,s.a.awrap(e[a].arrayBuffer());case 30:i=h.sent;case 31:return _(!1),K({value:0,total:100}),d=void 0,h.prev=34,h.next=37,s.a.awrap(function(){var r,c,l,u;return s.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return console.log("1"),r=0,console.log("2"),c=new Fe([i],"file"),console.log("3"),h.next=7,s.a.awrap(ct.put([c],{wrapWithDirectory:!1,onStoredChunk:function(e){console.log("4"),(r=Math.floor(r+e))>c.size?K({value:c.size,total:c.size}):K({value:r,total:c.size})},controllerFetch:ot}));case 7:return l=h.sent,h.next=10,s.a.awrap(Object(P.a)(Object(P.b)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos"),{cid:void 0==l.data?l:l.data.cid,data:Date.now(),name:e[a].name,type:"rar"==e[a].name.substring(e[a].name.lastIndexOf(".")+1)||"zip"==e[a].name.substring(e[a].name.lastIndexOf(".")+1)?"application/zip":e[a].type,size:e[a].size,dir:N,notPrivate:!n}));case 10:return u=h.sent,d=u.id,h.next=14,s.a.awrap(me(u.id).then((function(){at=!1,X(!1),_(!1)})).catch((function(t){at=!1,alert("Loading file cancelled"),X(!1),a=e.length})));case 14:case"end":return h.stop()}}),null,null,null,Promise)}());case 37:h.next=58;break;case 39:return h.prev=39,h.t6=h.catch(34),console.log(h.t6),a=e.length,r=!0,h.prev=44,h.next=47,s.a.awrap(Object(P.c)(Object(P.d)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos",d)));case 47:h.next=52;break;case 49:h.prev=49,h.t7=h.catch(44),console.log(h.t7);case 52:ot=new AbortController,ct=new qe({token:O.Web3StorageToken,abortController:ot}),console.log(h.t6),alert("Loading failed!"),X(!1),_(!1);case 58:a++,h.next=3;break;case 61:r||alert("All files have been uploaded successfully");case 62:case"end":return h.stop()}}),null,null,[[34,39],[44,49]],Promise)},je=function(e){var n,a,i,c,l,u,d;return s.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(5==e&&(nt()("https://"+ue.cid+".ipfs.dweb.link"),alert("Link copied to clipboard")),4==e&&r.push("FileInfo",{email:t.params.email,name:ue.name,size:ue.size,data:ue.data,cid:ue.cid}),2!=e){h.next=8;break}return h.next=5,s.a.awrap(Object(P.c)(Object(P.d)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos",ue.id)));case 5:(n=R()([],g)).splice(n.indexOf(n.filter((function(e){return e.id===ue.id}))[0]),1),y(n);case 8:if(1==e&&(ue.notPrivate?((i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?window:window.open()).window.document.write("<html>  <head>    <style>      html,      body {        height: 100%;        width: 100%;      }      .container {        align-items: center;        display: flex;        justify-content: center;        height: 100%;        width: 100%;      }    </style>  </head>  <body style='background-color: #191919; overflow: hidden'>    <div class='container'>      <img src='https://darchive5.web.app/static/media/logo.a7ce87a3.png' style='width: 250px' />      <div class='content'>        <p          id='textDownload'          style='color: white; font-family: Arial, Helvetica, sans-serif'        >          Download of "+ue.name+" in progress...        </p>      </div>    </div>  </body></html>"),i.window.addEventListener("beforeunload",(function(e){it.abort(),it=new AbortController})),rt.get("https://"+ue.cid+".ipfs.dweb.link",{signal:it.signal,responseType:"arraybuffer",onDownloadProgress:function(e){i.document.getElementById("textDownload").innerHTML="Download of "+ue.name+" in progress... "+e.loaded+"/"+e.total}}).then((function(e){var t,n,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=i.document.createElement("a"),n=new Blob([e.data],{type:ue.type}),r=URL.createObjectURL(n),t.setAttribute("href",r),t.setAttribute("download",ue.name),i.document.body.append(t),t.click(),i.window.URL.revokeObjectURL(r),t.remove();case 9:case"end":return a.stop()}}),null,null,null,Promise)})).catch((function(e){"canceled"!=e.message&&(alert("Error during downloading "+ue.name),i.document.getElementById("textDownload").innerHTML="Error during downloading "+ue.name)}))):((a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?window:window.open()).window.document.write("<html>  <head>    <style>      html,      body {        height: 100%;        width: 100%;      }      .container {        align-items: center;        display: flex;        justify-content: center;        height: 100%;        width: 100%;      }    </style>  </head>  <body style='background-color: #191919; overflow: hidden'>    <div class='container'>      <img src='https://darchive5.web.app/static/media/logo.a7ce87a3.png' style='width: 250px' />      <div class='content'>        <p          id='textDownload'          style='color: white; font-family: Arial, Helvetica, sans-serif'        >          Download of "+ue.name+" in progress...        </p>      </div>    </div>  </body></html>"),a.window.addEventListener("beforeunload",(function(e){it.abort(),it=new AbortController})),rt.get("https://"+ue.cid+".ipfs.dweb.link",{signal:it.signal,responseType:"arraybuffer",onDownloadProgress:function(e){a.document.getElementById("textDownload").innerHTML="Download of "+ue.name+" in progress... "+e.loaded+"/"+e.total}}).then((function(e){var n,r,o,i,c,l,u,d,h;return s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:for(n=new TextEncoder,r=t.params.password;r.length<16;)r+="k";return f.next=5,s.a.awrap(window.crypto.subtle.importKey("raw",n.encode(r),"AES-GCM",!1,["encrypt","decrypt"]));case 5:return o=f.sent,f.next=8,s.a.awrap(window.crypto.subtle.decrypt({name:"AES-GCM",iv:n.encode(r)},o,e.data));case 8:i=f.sent,ue.type.includes("image")||ue.type.includes("video")?(c=new Blob([i],{type:ue.type}),l=URL.createObjectURL(c),a.location.href=l):(u=a.document.createElement("a"),d=new Blob([i],{type:ue.type}),h=URL.createObjectURL(d),u.setAttribute("href",h),u.setAttribute("download",ue.name),a.document.body.append(u),u.click(),a.window.URL.revokeObjectURL(h),u.remove());case 10:case"end":return f.stop()}}),null,null,null,Promise)})).catch((function(e){"canceled"!=e.message&&(alert("Error during downloading "+ue.name),a.document.getElementById("textDownload").innerHTML="Error during downloading "+ue.name)})))),3!=e){h.next=20;break}if(null==(c=window.prompt("Enter new name"))||""==c.trim()){h.next=20;break}return l=R()([],g),u=l.filter((function(e){return e.id===ue.id}))[0],d=u.name.slice(u.name.lastIndexOf(".")),u.name=c.trim()+d,l[l.indexOf(l.filter((function(e){return e.id===ue.id}))[0])]=u,y(l),h.next=20,s.a.awrap(Object(P.j)(Object(P.d)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos",ue.id),{name:c.trim()+d}));case 20:case"end":return h.stop()}}),null,null,null,Promise)},xe=function(e){var n,r,a,i,c,l;return s.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(2!=e){u.next=16;break}return u.next=3,s.a.awrap(Object(P.e)(Object(P.h)(Object(P.b)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"folders"),Object(P.k)("dir","array-contains",ue.id))));case 3:return n=u.sent,u.next=6,s.a.awrap(Object(P.e)(Object(P.h)(Object(P.b)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos"),Object(P.k)("dir","array-contains",ue.id))));case 6:if(r=u.sent,0!=n.size||0!=r.size){u.next=15;break}return u.next=10,s.a.awrap(Object(P.c)(Object(P.d)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"folders",ue.id)));case 10:(a=R()([],C)).splice(a.indexOf(a.filter((function(e){return e.id===ue.id}))[0]),1),T(a),u.next=16;break;case 15:alert("The folder must be empty");case 16:if(3==e&&(J((function(e){return[].concat(A()(e),[ue.id])})),y([])),1!=e){u.next=27;break}if(null==(i=window.prompt("Enter new name"))||""==i.trim()){u.next=27;break}return c=R()([],C),(l=c.filter((function(e){return e.id===ue.id}))[0]).name=i.trim(),c[c.indexOf(c.filter((function(e){return e.id===ue.id}))[0])]=l,T(c),u.next=27,s.a.awrap(Object(P.j)(Object(P.d)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"folders",ue.id),{name:i.trim()}));case 27:case"end":return u.stop()}}),null,null,null,Promise)},ge=function(e){var t=e.data,r=e.cid,o=e.id,i=e.name,c=e.size,s=e.type,l=e.notPrivate;return Object(k.jsx)(f.a,{onPress:function(){de({id:o,cid:r,type:s,name:i,size:c,data:t,notPrivate:l,modalita:"diretta"})},children:Object(k.jsx)(u.a,{style:{padding:a.width<900?Object(m.a)("2%"):Object(m.a)("3%")},children:Object(k.jsxs)(u.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(k.jsx)(h.a,{source:n(l?467:235),cacheKey:r,style:{width:"90px",aspectRatio:.7,height:"110px",borderRadius:Object(m.a)("5%"),alignSelf:"stretch"}}),Object(k.jsx)(d.a,{style:{color:"white",width:"25%",fontWeight:"bold",marginLeft:"3%"},children:i}),Object(k.jsx)(d.a,{style:{color:"white",width:"25%",fontWeight:200,marginLeft:"10%"},children:"Size : "+(c/1e6).toFixed(2)+"MB Loading date: "+new Date(t).toLocaleString()}),Object(k.jsx)(u.a,{style:{flex:1,alignItems:"flex-end"},children:Object(k.jsx)(f.a,{onPress:function(){de({id:o,cid:r,type:s,name:i,size:c,data:t,notPrivate:l}),be(1)},children:Object(k.jsx)(x.a,{name:"dots-vertical",color:"white",size:30})})})]})})})},ye=function(e){var t=e.id,r=e.data,o=e.name;return Object(k.jsx)(f.a,{onPress:function(){de({id:t,modalita:"diretta"})},style:{padding:a.width<900?Object(m.a)("2%"):Object(m.a)("3%")},children:Object(k.jsx)(u.a,{children:Object(k.jsxs)(u.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(k.jsx)(h.a,{source:n(468),cacheKey:o,style:{width:"90px",aspectRatio:.7,height:"110px",borderRadius:Object(m.a)("5%"),alignSelf:"stretch"}}),Object(k.jsx)(d.a,{style:{color:"white",width:"25%",fontWeight:"bold",marginLeft:"3%"},children:o}),Object(k.jsx)(d.a,{style:{color:"white",width:"25%",fontWeight:200,marginLeft:"10%"},children:"Creation date: "+new Date(r).toLocaleString()}),Object(k.jsx)(u.a,{style:{flex:1,alignItems:"flex-end"},children:Object(k.jsx)(f.a,{onPress:function(){de({name:o,id:t}),be(2)},children:Object(k.jsx)(x.a,{name:"dots-vertical",color:"white",size:30})})})]})})})};return Object(k.jsxs)(u.a,{style:{width:"flex",height:"100%",backgroundColor:"#191919",alignItems:"center"},children:[Object(k.jsx)(W.a,{visible:1==pe,transparent:!0,children:Object(k.jsx)(u.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,alignItems:"center",justifyContent:"center",height:"100%"},children:Object(k.jsxs)(u.a,{style:{backgroundColor:"#2b2b2b",borderRadius:"5%",width:a.width>900?"50%":"80%",height:(a.width,"70%"),alignItems:"center",justifyContent:"center"},children:[Object(k.jsx)(d.a,{style:{textAlign:"center",color:"white",fontWeight:"100",fontSize:"30px",width:"80%"},children:ue.name}),Object(k.jsx)(f.a,{onPress:function(){je(1),be(0)},style:{marginTop:a.width>900?"3%":"7%"},children:Object(k.jsx)(d.a,{style:{color:"white",fontSize:"25px"},children:"Download"})}),void 0!=ue.notPrivate&&1==ue.notPrivate?Object(k.jsx)(f.a,{onPress:function(){je(5),be(0)},style:{marginTop:a.width>900?"3%":"7%"},children:Object(k.jsx)(d.a,{style:{color:"white",fontSize:"25px"},children:"Copy link"})}):null,Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){je(3),be(0)},children:Object(k.jsx)(d.a,{style:{color:"white",fontSize:"25px"},children:"Rename"})}),Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){je(4),be(0)},children:Object(k.jsx)(d.a,{style:{color:"white",fontSize:"25px"},children:"Info"})}),Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){je(2),be(0)},children:Object(k.jsx)(d.a,{style:{color:"red",fontSize:"25px"},children:"Delete"})}),Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){be(0)},children:Object(k.jsx)(x.a,{name:"close",color:"#ff5c5c",size:30})})]})})}),Object(k.jsx)(W.a,{visible:2==pe,transparent:!0,children:Object(k.jsx)(u.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,alignItems:"center",justifyContent:"center",height:"100%"},children:Object(k.jsxs)(u.a,{style:{backgroundColor:"#2b2b2b",borderRadius:"5%",width:a.width>900?"50%":"80%",height:a.width>900?"50%":"60%",alignItems:"center",justifyContent:"center"},children:[Object(k.jsx)(d.a,{style:{textAlign:"center",color:"white",fontWeight:"100",fontSize:"30px",width:"80%"},children:ue.name}),Object(k.jsx)(f.a,{onPress:function(){xe(3),be(0)},style:{marginTop:a.width>900?"3%":"7%"},children:Object(k.jsx)(d.a,{style:{color:"white",fontSize:"25px"},children:"Open"})}),Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){xe(1),be(0)},children:Object(k.jsx)(d.a,{style:{color:"white",fontSize:"25px"},children:"Rename"})}),Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){xe(2),be(0)},children:Object(k.jsx)(d.a,{style:{color:"red",fontSize:"25px"},children:"Delete"})}),Object(k.jsx)(f.a,{style:{marginTop:a.width>900?"3%":"7%"},onPress:function(){be(0)},children:Object(k.jsx)(x.a,{name:"close",color:"#ff5c5c",size:30})})]})})}),Object(k.jsx)(M.a,{position:"top-left",iconColor:"#ff5c5c",borderColor:"#ff5c5c",backgroundDownColor:"#ff5c5c",isOpen:ne,items:[{label:"Info"},{label:"Reload"},{label:"Create new folder"},{label:"Upload"}],onMenuToggle:function(){re(!ne)},onItemPress:function(e,n){0==n&&(document.getElementById("fileLoad").click(),re(!1)),1==n&&(!function(){var e;s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(e=window.prompt("Enter the name of the folder"))||""==e){n.next=8;break}return n.next=4,s.a.awrap(Object(P.a)(Object(P.b)(o,"Utenti",t.params.email.replaceAll(".","DOT"),"folders"),{name:e,data:Date.now(),dir:N}));case 4:return X(!0),_(!0),n.next=8,s.a.awrap(me().then((function(){at=!1,X(!1),_(!1)})));case 8:case"end":return n.stop()}}),null,null,null,Promise)}(),re(!1)),2==n&&(y([]),re(!1)),3==n&&r.push("Settings",{email:t.params.email,password:t.params.password})},renderItemIcon:function(e,t){return 0==t?Object(k.jsx)(x.a,{name:"file-document-outline",color:"#ff5c5c",size:20}):1==t?Object(k.jsx)(x.a,{name:"folder-plus-outline",color:"#ff5c5c",size:20}):2==t?Object(k.jsx)(x.a,{name:"reload",color:"#ff5c5c",size:20}):3==t?Object(k.jsx)(x.a,{name:"information-outline",color:"#ff5c5c",size:20}):void 0}}),Object(k.jsx)(U.a,{visible:Q,textStyle:{color:"white"},children:Object(k.jsx)(u.a,{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:$?Object(k.jsx)(E.a,{color:"white",size:"large"}):Object(k.jsxs)(u.a,{style:{height:"40%",borderRadius:Object(m.a)("5%"),backgroundColor:"#2b2b2b",width:a.width<900?"70%":"30%",alignItems:"center",justifyContent:"center"},children:[Object(k.jsx)(d.a,{style:{fontWeight:200,color:"white",fontWeight:"bold",marginBottom:"8%"},children:"Loading file "+ie.current+" of "+ie.total}),Object(k.jsx)(d.a,{style:{fontWeight:200,color:"white"},children:Math.floor(G.value/G.total*100)+" / 100"}),Object(k.jsx)(B.a,{style:{backgroundColor:"white"},progress:G.value/G.total,width:200,color:"black"}),Object(k.jsx)(f.a,{style:{backgroundColor:"#ff5c5c",width:"150px",height:"50px",marginTop:Object(m.a)("5%"),justifyContent:"center",alignItems:"center"},onPress:function(){ot.abort()},children:Object(k.jsx)(u.a,{children:Object(k.jsx)(d.a,{style:{color:"white"},children:"Cancel"})})})]})})}),Object(k.jsx)(h.a,{resizeMode:"center",style:{width:a.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(119)}}),Object(k.jsx)(d.a,{style:{color:"white",fontSize:a.width<900?a.width/30:a.width/40,fontWeight:"400",marginTop:Object(m.a)("-2%")},children:t.params.email}),Object(k.jsx)("input",{onChange:function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(we(e.target.files));case 2:e.target.value="";case 3:case"end":return t.stop()}}),null,null,null,Promise)},id:"fileLoad",type:"file",accept:"*",style:{display:"none"},multiple:!0}),Object(k.jsx)("label",{for:"fileLoad"}),Object(k.jsxs)(u.a,{style:{width:"100%",justifyContent:"center",flexDirection:"row",height:"5%",marginTop:Object(m.a)("3%"),alignItems:"center"},children:[Object(k.jsxs)(f.a,{style:{justifyContent:"center",alignItems:"center"},onPress:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(AsyncStorage.clear());case 2:Object(j.d)(c),r.push("LogIn");case 4:case"end":return e.stop()}}),null,null,null,Promise)},children:[Object(k.jsx)(x.a,{name:"exit-to-app",color:"white",size:30}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:200},children:"Logout"})]}),"Photos"!=N[N.length-1]?Object(k.jsxs)(f.a,{style:{justifyContent:"center",alignItems:"center",marginLeft:"50px"},onPress:function(){if(1!=N.length){var e=R()([],N);e.pop(),J(e),y([])}},children:[Object(k.jsx)(x.a,{name:"keyboard-backspace",color:"white",size:30}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:200},children:"Back"})]}):null]}),Object(k.jsx)(L.a,{style:{marginTop:"20px",width:"100%",backgroundColor:"#2b2b2b",borderTopLeftRadius:"50px",borderTopRightRadius:"50px"},children:0==C.length&&0==g.length?Object(k.jsxs)(u.a,{style:{width:"100%",alignItems:"center",justifyContent:"center",height:a.height/2},children:[Object(k.jsx)(x.a,{name:"folder-plus-outline",color:"#757575",size:50}),Object(k.jsx)(d.a,{style:{color:"#757575",fontWeight:200},children:"Empty folder"})]}):Object(k.jsxs)(u.a,{children:[Object(k.jsx)(u.a,{style:{width:"100%"},children:Object(k.jsx)(D.a,{numColumns:1,data:C,renderItem:function(e){var t=e.item;return Object(k.jsx)(ye,{id:t.id,data:t.data,name:t.name})},keyExtractor:function(e){return e.id}})}),Object(k.jsx)(u.a,{style:{width:"100%"},children:Object(k.jsx)(D.a,{numColumns:1,data:g,renderItem:function(e){var t=e.item;return Object(k.jsx)(ge,{data:t.data,cid:t.cid,id:t.id,name:t.name,size:t.size,type:t.type,notPrivate:t.notPrivate})},keyExtractor:function(e){return e.id}})})]})})]})},lt=(n(480),n(172)),ut=n.n(lt),dt=function(e){var t=e.route,r=e.navigation,a=Object(p.a)(),o=(Object(P.f)(),l.useState(!1)),c=i()(o,2),b=c[0],w=(c[1],l.useState("")),j=i()(w,2),g=j[0],y=j[1];return l.useEffect((function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(ut.a.get("https://api.web3.storage/status/"+t.params.cid));case 2:e.sent.data.deals.length>0?y("Pinned"):y("Queuing");case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[]),Object(k.jsxs)(L.a,{style:{backgroundColor:"#191919"},contentContainerStyle:{width:"flex",backgroundColor:"#191919",alignItems:"center"},children:[Object(k.jsx)(U.a,{visible:b,textStyle:{color:"white"},children:Object(k.jsx)(u.a,{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:Object(k.jsx)(E.a,{color:"white",size:"large"})})}),Object(k.jsx)(h.a,{resizeMode:"center",style:{width:a.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(119)}}),Object(k.jsx)(d.a,{style:{color:"white",fontSize:a.width<900?a.width/30:a.width/40,fontWeight:"400",marginTop:Object(m.a)("-2%")},children:t.params.email}),Object(k.jsx)(u.a,{style:{width:"100%",justifyContent:"center",flexDirection:"row",height:"5%",marginTop:Object(m.a)("3%"),alignItems:"center"},children:Object(k.jsxs)(f.a,{style:{justifyContent:"center",alignItems:"center"},onPress:function(){r.goBack()},children:[Object(k.jsx)(x.a,{name:"keyboard-backspace",color:"white",size:30}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:200},children:"Back"})]})}),Object(k.jsx)(h.a,{source:n(235),style:{width:"90px",aspectRatio:.7,height:"110px",borderRadius:Object(m.a)("5%"),marginTop:"5%"}}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Status"}),Object(k.jsx)(d.a,{style:{color:"Pinned"==g?"green":"red",fontSize:"20px",marginTop:"1%",fontWeight:"200"},children:g}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Name"}),Object(k.jsx)(d.a,{style:{color:"white",fontSize:"20px",marginTop:"1%",fontWeight:"200"},children:t.params.name}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Size"}),Object(k.jsx)(d.a,{style:{color:"white",fontSize:"20px",marginTop:"1%",fontWeight:"200"},children:(t.params.size/1e6).toFixed(2)+"MB"}),Object(k.jsx)(d.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Loading date"}),Object(k.jsx)(d.a,{style:{color:"white",fontSize:"20px",marginTop:"1%",fontWeight:"200",marginBottom:"2%"},children:new Date(t.params.data).toLocaleString()})]})},ht=Object(a.a)();function ft(){return Object(k.jsx)(r.a,{children:Object(k.jsxs)(ht.Navigator,{children:[Object(k.jsx)(ht.Screen,{name:"LogIn",component:C,options:{headerShown:!1}}),Object(k.jsx)(ht.Screen,{name:"SigIn",component:T,options:{headerShown:!1}}),Object(k.jsx)(ht.Screen,{name:"Home",component:st,options:{headerShown:!1}}),Object(k.jsx)(ht.Screen,{name:"FileInfo",component:dt,options:{headerShown:!1}})]})})}},289:function(e,t,n){e.exports=n(477)},467:function(e,t,n){e.exports=n.p+"static/media/filePublic.2537e54c.png"},468:function(e,t,n){e.exports=n.p+"static/media/folder.5107a6da.png"}},[[289,1,2]]]);
//# sourceMappingURL=app.c882bed7.chunk.js.map