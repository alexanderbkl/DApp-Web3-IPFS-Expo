(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{157:function(e,t,n){e.exports=n.p+"static/media/file.73e9524a.png"},159:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(30),r=n.n(a),i=(n(77),n(0),n(275)),o=n(276),c=n(160),s=n(192),l=n(194),d=n(195),h=n(196),u=n(1),b=n(262);r()(e,{TextEncoder:b.TextEncoder,TextDecoder:b.TextDecoder});var j=Object(o.a)();function f(){return Object(u.jsx)(i.a,{children:Object(u.jsxs)(j.Navigator,{children:[Object(u.jsx)(j.Screen,{name:"LogIn",component:s.a,options:{headerShown:!1}}),Object(u.jsx)(j.Screen,{name:"SigIn",component:l.a,options:{headerShown:!1}}),Object(u.jsx)(j.Screen,{name:"Home",component:c.a,options:{headerShown:!1}}),Object(u.jsx)(j.Screen,{name:"FileInfo",component:h.a,options:{headerShown:!1}}),Object(u.jsx)(j.Screen,{name:"Settings",component:d.a,options:{headerShown:!1}})]})})}}).call(this,n(49))},160:function(e,t,n){"use strict";var a=n(30),r=n.n(a),i=n(22),o=n.n(i),c=n(9),s=n.n(c),l=n(7),d=n.n(l),h=(n(77),n(0)),u=n(2),b=n(10),j=n(28),f=n(23),p=n(53),g=n(60),x=n(74),m=n(44),w=n(72),O=n(11),y=n(18),v=n(65),T=(n(215),n(81)),k=n(203),C=n(182),S=n(39),z=n(96),I=n(121),P=n(183),D=n.n(P),A=n(1),W=(n(226),n(128).default),R=!1,E=new AbortController,L=new AbortController,U=new I.b({token:z.a.Web3StorageToken,abortController:E});t.a=function(e){var t=e.route,a=e.navigation,i=Object(p.a)(),c=Object(y.f)(),l=Object(v.b)(),P=h.useState([]),M=s()(P,2),B=M[0],J=M[1],H=h.useState([]),F=s()(H,2),N=F[0],G=F[1],K=h.useState(["Photos"]),Q=s()(K,2),Y=Q[0],_=Q[1],V=h.useState({value:0,total:100}),X=s()(V,2),Z=X[0],q=X[1],$=h.useState(!1),ee=s()($,2),te=ee[0],ne=ee[1],ae=h.useState(!1),re=s()(ae,2),ie=re[0],oe=re[1],ce=h.useState(!1),se=s()(ce,2),le=se[0],de=se[1],he=h.useState({current:0,total:0}),ue=s()(he,2),be=ue[0],je=ue[1],fe=h.useState({}),pe=s()(fe,2),ge=pe[0],xe=pe[1],me=h.useState(0),we=s()(me,2),Oe=we[0],ye=we[1],ve=function(e){return new Promise((function(n,a){return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(R){a.next=3;break}return a.next=3,d.a.awrap(function(){var a,r,s,l,h;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return R=!0,u.next=3,d.a.awrap(Object(y.e)(Object(y.h)(Object(y.b)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos"),Object(y.g)("data","desc"),Object(y.k)("dir","==",Y))));case 3:return a=u.sent,G([]),u.next=7,d.a.awrap(Object(y.e)(Object(y.h)(Object(y.b)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"folders"),Object(y.k)("dir","==",Y))));case 7:for(r=u.sent,s=function(e){G((function(t){return[].concat(o()(t),[{id:r.docs[e].id,name:r.docs[e].data().name,data:r.docs[e].data().data}])}))},l=0;l<r.docs.length;l++)s(l);for(h=0,0==a.docs.length&&n();h<a.docs.length;h++)B.includes(B.filter((function(e){return e.id===a.docs[h].id}))[0])?a.docs.length-1==h&&n():function(){var t={cid:a.docs[h].data().cid,data:a.docs[h].data().data,id:a.docs[h].id,name:a.docs[h].data().name,type:a.docs[h].data().type,size:a.docs[h].data().size,ranHeightImage:Math.random()<.5?void 0:i.width<900?Object(O.a)("20%"):Object(O.a)("25%")};try{t.notPrivate=a.docs[h].data().notPrivate}catch(r){}a.docs[h].id==e?(J((function(e){return[t].concat(o()(e))})),h=a.docs.length):J((function(e){return[].concat(o()(e),[t])})),a.docs.length-1==h&&n()}();case 13:case"end":return u.stop()}}),null,null,null,Promise)}());case 3:n();case 4:case"end":return a.stop()}}),null,null,null,Promise)}))};h.useEffect((function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:0==B.length&&(ne(!0),oe(!0),ve().then((function(){R=!1,ne(!1),oe(!1)})));case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[B]),h.useEffect((function(){"diretta"==ge.modalita&&(void 0!=ge.size?ke(1):Ce(3))}),[ge]);var Te=function(e){var n,a,r,i,o,s,l,h;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:n=confirm("Do you want upload private (encrypted) or public (not encrypted) files? ('OK' for private, 'Cancel' for public)"),a=!1,r=0;case 3:if(!(r<e.length)){u.next=59;break}if(oe(!0),ne(!0),je({current:r+1,total:e.length}),i=void 0,!n){u.next=28;break}for(o=new TextEncoder,s=t.params.password;s.length<16;)s+="k";return u.next=14,d.a.awrap(window.crypto.subtle.importKey("raw",o.encode(s),"AES-GCM",!1,["encrypt","decrypt"]));case 14:return l=u.sent,u.t0=d.a,u.t1=window.crypto.subtle,u.t2={name:"AES-GCM",iv:o.encode(s)},u.t3=l,u.next=21,d.a.awrap(e[r].arrayBuffer());case 21:return u.t4=u.sent,u.t5=u.t1.encrypt.call(u.t1,u.t2,u.t3,u.t4),u.next=25,u.t0.awrap.call(u.t0,u.t5);case 25:i=u.sent,u.next=31;break;case 28:return u.next=30,d.a.awrap(e[r].arrayBuffer());case 30:i=u.sent;case 31:return oe(!1),q({value:0,total:100}),h=void 0,u.prev=34,u.next=37,d.a.awrap(function(){var a,o,s,l;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=0,o=new I.a([i],"file"),u.next=4,d.a.awrap(U.put([o],{wrapWithDirectory:!1,onStoredChunk:function(e){(a=Math.floor(a+e))>o.size?q({value:o.size,total:o.size}):q({value:a,total:o.size})},controllerFetch:E}));case 4:return s=u.sent,u.next=7,d.a.awrap(Object(y.a)(Object(y.b)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos"),{cid:void 0==s.data?s:s.data.cid,data:Date.now(),name:e[r].name,type:"rar"==e[r].name.substring(e[r].name.lastIndexOf(".")+1)||"zip"==e[r].name.substring(e[r].name.lastIndexOf(".")+1)?"application/zip":e[r].type,size:e[r].size,dir:Y,notPrivate:!n}));case 7:return l=u.sent,h=l.id,u.next=11,d.a.awrap(ve(l.id).then((function(){R=!1,ne(!1),oe(!1)})).catch((function(t){R=!1,alert("Loading file cancelled"),ne(!1),r=e.length})));case 11:case"end":return u.stop()}}),null,null,null,Promise)}());case 37:u.next=56;break;case 39:return u.prev=39,u.t6=u.catch(34),r=e.length,a=!0,u.prev=43,u.next=46,d.a.awrap(Object(y.c)(Object(y.d)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos",h)));case 46:u.next=50;break;case 48:u.prev=48,u.t7=u.catch(43);case 50:E=new AbortController,U=new I.b({token:z.a.Web3StorageToken,abortController:E}),console.log(u.t6),alert("Loading failed"),ne(!1),oe(!1);case 56:r++,u.next=3;break;case 59:a||alert("All files have been uploaded successfully");case 60:case"end":return u.stop()}}),null,null,[[34,39],[43,48]],Promise)},ke=function(e){var n,i,o,s,l,h,u;return d.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(5==e&&(D()("https://"+ge.cid+".ipfs.dweb.link"),alert("Link copied to clipboard")),4==e&&a.push("FileInfo",{email:t.params.email,name:ge.name,size:ge.size,data:ge.data,cid:ge.cid}),2!=e){b.next=8;break}return b.next=5,d.a.awrap(Object(y.c)(Object(y.d)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos",ge.id)));case 5:(n=r()([],B)).splice(n.indexOf(n.filter((function(e){return e.id===ge.id}))[0]),1),J(n);case 8:if(1==e&&(ge.notPrivate?((o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?window:window.open()).window.document.write("<html>  <head>    <style>      html,      body {        height: 100%;        width: 100%;      }      .container {        align-items: center;        display: flex;        justify-content: center;        height: 100%;        width: 100%;      }    </style>  </head>  <body style='background-color: #191919; overflow: hidden'>    <div class='container'>      <img src='https://darchive5.web.app/static/media/logo.a7ce87a3.png' style='width: 250px' />      <div class='content'>        <p          id='textDownload'          style='color: white; font-family: Arial, Helvetica, sans-serif'        >          Download of "+ge.name+" in progress...        </p>      </div>    </div>  </body></html>"),o.window.addEventListener("beforeunload",(function(e){L.abort(),L=new AbortController})),W.get("https://"+ge.cid+".ipfs.dweb.link",{signal:L.signal,responseType:"arraybuffer",onDownloadProgress:function(e){o.document.getElementById("textDownload").innerHTML="Download of "+ge.name+" in progress... "+e.loaded+"/"+e.total}}).then((function(e){var t,n,a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=o.document.createElement("a"),n=new Blob([e.data],{type:ge.type}),a=URL.createObjectURL(n),t.setAttribute("href",a),t.setAttribute("download",ge.name),o.document.body.append(t),t.click(),o.window.URL.revokeObjectURL(a),t.remove();case 9:case"end":return r.stop()}}),null,null,null,Promise)})).catch((function(e){"canceled"!=e.message&&(alert("Error during downloading "+ge.name),o.document.getElementById("textDownload").innerHTML="Error during downloading "+ge.name)}))):((i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?window:window.open()).window.document.write("<html>  <head>    <style>      html,      body {        height: 100%;        width: 100%;      }      .container {        align-items: center;        display: flex;        justify-content: center;        height: 100%;        width: 100%;      }    </style>  </head>  <body style='background-color: #191919; overflow: hidden'>    <div class='container'>      <img src='https://darchive5.web.app/static/media/logo.a7ce87a3.png' style='width: 250px' />      <div class='content'>        <p          id='textDownload'          style='color: white; font-family: Arial, Helvetica, sans-serif'        >          Download of "+ge.name+" in progress...        </p>      </div>    </div>  </body></html>"),i.window.addEventListener("beforeunload",(function(e){L.abort(),L=new AbortController})),W.get("https://"+ge.cid+".ipfs.dweb.link",{signal:L.signal,responseType:"arraybuffer",onDownloadProgress:function(e){i.document.getElementById("textDownload").innerHTML="Download of "+ge.name+" in progress... "+e.loaded+"/"+e.total}}).then((function(e){var n,a,r,o,c,s,l,h,u;return d.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:for(n=new TextEncoder,a=t.params.password;a.length<16;)a+="k";return b.next=5,d.a.awrap(window.crypto.subtle.importKey("raw",n.encode(a),"AES-GCM",!1,["encrypt","decrypt"]));case 5:return r=b.sent,b.next=8,d.a.awrap(window.crypto.subtle.decrypt({name:"AES-GCM",iv:n.encode(a)},r,e.data));case 8:o=b.sent,ge.type.includes("image")||ge.type.includes("video")?(c=new Blob([o],{type:ge.type}),s=URL.createObjectURL(c),i.location.href=s):(l=i.document.createElement("a"),h=new Blob([o],{type:ge.type}),u=URL.createObjectURL(h),l.setAttribute("href",u),l.setAttribute("download",ge.name),i.document.body.append(l),l.click(),i.window.URL.revokeObjectURL(u),l.remove());case 10:case"end":return b.stop()}}),null,null,null,Promise)})).catch((function(e){"canceled"!=e.message&&(alert("Error during downloading "+ge.name),i.document.getElementById("textDownload").innerHTML="Error during downloading "+ge.name)})))),3!=e){b.next=20;break}if(null==(s=window.prompt("Enter new name"))||""==s.trim()){b.next=20;break}return l=r()([],B),h=l.filter((function(e){return e.id===ge.id}))[0],u=h.name.slice(h.name.lastIndexOf(".")),h.name=s.trim()+u,l[l.indexOf(l.filter((function(e){return e.id===ge.id}))[0])]=h,J(l),b.next=20,d.a.awrap(Object(y.j)(Object(y.d)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos",ge.id),{name:s.trim()+u}));case 20:case"end":return b.stop()}}),null,null,null,Promise)},Ce=function(e){var n,a,i,s,l,h;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(2!=e){u.next=16;break}return u.next=3,d.a.awrap(Object(y.e)(Object(y.h)(Object(y.b)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"folders"),Object(y.k)("dir","array-contains",ge.id))));case 3:return n=u.sent,u.next=6,d.a.awrap(Object(y.e)(Object(y.h)(Object(y.b)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"Photos"),Object(y.k)("dir","array-contains",ge.id))));case 6:if(a=u.sent,0!=n.size||0!=a.size){u.next=15;break}return u.next=10,d.a.awrap(Object(y.c)(Object(y.d)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"folders",ge.id)));case 10:(i=r()([],N)).splice(i.indexOf(i.filter((function(e){return e.id===ge.id}))[0]),1),G(i),u.next=16;break;case 15:alert("The folder must be empty");case 16:if(3==e&&(_((function(e){return[].concat(o()(e),[ge.id])})),J([])),1!=e){u.next=27;break}if(null==(s=window.prompt("Enter new name"))||""==s.trim()){u.next=27;break}return l=r()([],N),(h=l.filter((function(e){return e.id===ge.id}))[0]).name=s.trim(),l[l.indexOf(l.filter((function(e){return e.id===ge.id}))[0])]=h,G(l),u.next=27,d.a.awrap(Object(y.j)(Object(y.d)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"folders",ge.id),{name:s.trim()}));case 27:case"end":return u.stop()}}),null,null,null,Promise)},Se=function(e){var t=e.data,a=e.cid,r=e.id,o=e.name,c=e.size,s=e.type,l=e.notPrivate;return Object(A.jsx)(f.a,{onPress:function(){xe({id:r,cid:a,type:s,name:o,size:c,data:t,notPrivate:l,modalita:"diretta"})},children:Object(A.jsx)(u.a,{style:{padding:i.width<900?Object(O.a)("2%"):Object(O.a)("3%")},children:Object(A.jsxs)(u.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(A.jsx)(j.a,{source:n(l?254:157),cacheKey:a,style:{width:"90px",aspectRatio:.7,height:"110px",borderRadius:Object(O.a)("5%"),alignSelf:"stretch"}}),Object(A.jsx)(b.a,{style:{color:"white",width:"25%",fontWeight:"bold",marginLeft:"3%"},children:o}),Object(A.jsx)(b.a,{style:{color:"white",width:"25%",fontWeight:200,marginLeft:"10%"},children:"Size : "+(c/1e6).toFixed(2)+"MB Loading date: "+new Date(t).toLocaleString()}),Object(A.jsx)(u.a,{style:{flex:1,alignItems:"flex-end"},children:Object(A.jsx)(f.a,{onPress:function(){xe({id:r,cid:a,type:s,name:o,size:c,data:t,notPrivate:l}),ye(1)},children:Object(A.jsx)(S.a,{name:"dots-vertical",color:"white",size:30})})})]})})})},ze=function(e){var t=e.id,a=e.data,r=e.name;return Object(A.jsx)(f.a,{onPress:function(){xe({id:t,modalita:"diretta"})},style:{padding:i.width<900?Object(O.a)("2%"):Object(O.a)("3%")},children:Object(A.jsx)(u.a,{children:Object(A.jsxs)(u.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(A.jsx)(j.a,{source:n(258),cacheKey:r,style:{width:"90px",aspectRatio:.7,height:"110px",borderRadius:Object(O.a)("5%"),alignSelf:"stretch"}}),Object(A.jsx)(b.a,{style:{color:"white",width:"25%",fontWeight:"bold",marginLeft:"3%"},children:r}),Object(A.jsx)(b.a,{style:{color:"white",width:"25%",fontWeight:200,marginLeft:"10%"},children:"Creation date: "+new Date(a).toLocaleString()}),Object(A.jsx)(u.a,{style:{flex:1,alignItems:"flex-end"},children:Object(A.jsx)(f.a,{onPress:function(){xe({name:r,id:t}),ye(2)},children:Object(A.jsx)(S.a,{name:"dots-vertical",color:"white",size:30})})})]})})})};return Object(A.jsxs)(u.a,{style:{width:"flex",height:"100%",backgroundColor:"#191919",alignItems:"center"},children:[Object(A.jsx)(w.a,{visible:1==Oe,transparent:!0,children:Object(A.jsx)(u.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,alignItems:"center",justifyContent:"center",height:"100%"},children:Object(A.jsxs)(u.a,{style:{backgroundColor:"#2b2b2b",borderRadius:"5%",width:i.width>900?"50%":"80%",height:(i.width,"70%"),alignItems:"center",justifyContent:"center"},children:[Object(A.jsx)(b.a,{style:{textAlign:"center",color:"white",fontWeight:"100",fontSize:"30px",width:"80%"},children:ge.name}),Object(A.jsx)(f.a,{onPress:function(){ke(1),ye(0)},style:{marginTop:i.width>900?"3%":"7%"},children:Object(A.jsx)(b.a,{style:{color:"white",fontSize:"25px"},children:"Download"})}),void 0!=ge.notPrivate&&1==ge.notPrivate?Object(A.jsx)(f.a,{onPress:function(){ke(5),ye(0)},style:{marginTop:i.width>900?"3%":"7%"},children:Object(A.jsx)(b.a,{style:{color:"white",fontSize:"25px"},children:"Copy link"})}):null,Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){ke(3),ye(0)},children:Object(A.jsx)(b.a,{style:{color:"white",fontSize:"25px"},children:"Rename"})}),Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){ke(4),ye(0)},children:Object(A.jsx)(b.a,{style:{color:"white",fontSize:"25px"},children:"Info"})}),Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){ke(2),ye(0)},children:Object(A.jsx)(b.a,{style:{color:"red",fontSize:"25px"},children:"Delete"})}),Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){ye(0)},children:Object(A.jsx)(S.a,{name:"close",color:"#ff5c5c",size:30})})]})})}),Object(A.jsx)(w.a,{visible:2==Oe,transparent:!0,children:Object(A.jsx)(u.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,alignItems:"center",justifyContent:"center",height:"100%"},children:Object(A.jsxs)(u.a,{style:{backgroundColor:"#2b2b2b",borderRadius:"5%",width:i.width>900?"50%":"80%",height:i.width>900?"50%":"60%",alignItems:"center",justifyContent:"center"},children:[Object(A.jsx)(b.a,{style:{textAlign:"center",color:"white",fontWeight:"100",fontSize:"30px",width:"80%"},children:ge.name}),Object(A.jsx)(f.a,{onPress:function(){Ce(3),ye(0)},style:{marginTop:i.width>900?"3%":"7%"},children:Object(A.jsx)(b.a,{style:{color:"white",fontSize:"25px"},children:"Open"})}),Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){Ce(1),ye(0)},children:Object(A.jsx)(b.a,{style:{color:"white",fontSize:"25px"},children:"Rename"})}),Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){Ce(2),ye(0)},children:Object(A.jsx)(b.a,{style:{color:"red",fontSize:"25px"},children:"Delete"})}),Object(A.jsx)(f.a,{style:{marginTop:i.width>900?"3%":"7%"},onPress:function(){ye(0)},children:Object(A.jsx)(S.a,{name:"close",color:"#ff5c5c",size:30})})]})})}),Object(A.jsx)(C.a,{position:"top-left",iconColor:"#ff5c5c",borderColor:"#ff5c5c",backgroundDownColor:"#ff5c5c",isOpen:le,items:[{label:"Info"},{label:"Reload"},{label:"Create new folder"},{label:"Upload"}],onMenuToggle:function(){de(!le)},onItemPress:function(e,n){0==n&&(document.getElementById("fileLoad").click(),de(!1)),1==n&&(!function(){var e;d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(e=window.prompt("Enter the name of the folder"))||""==e){n.next=8;break}return n.next=4,d.a.awrap(Object(y.a)(Object(y.b)(c,"Utenti",t.params.email.replaceAll(".","DOT"),"folders"),{name:e,data:Date.now(),dir:Y}));case 4:return ne(!0),oe(!0),n.next=8,d.a.awrap(ve().then((function(){R=!1,ne(!1),oe(!1)})));case 8:case"end":return n.stop()}}),null,null,null,Promise)}(),de(!1)),2==n&&(J([]),de(!1)),3==n&&a.push("Settings",{email:t.params.email,password:t.params.password})},renderItemIcon:function(e,t){return 0==t?Object(A.jsx)(S.a,{name:"file-document-outline",color:"#ff5c5c",size:20}):1==t?Object(A.jsx)(S.a,{name:"folder-plus-outline",color:"#ff5c5c",size:20}):2==t?Object(A.jsx)(S.a,{name:"reload",color:"#ff5c5c",size:20}):3==t?Object(A.jsx)(S.a,{name:"information-outline",color:"#ff5c5c",size:20}):void 0}}),Object(A.jsx)(T.a,{visible:te,textStyle:{color:"white"},children:Object(A.jsx)(u.a,{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:ie?Object(A.jsx)(g.a,{color:"white",size:"large"}):Object(A.jsxs)(u.a,{style:{height:"40%",borderRadius:Object(O.a)("5%"),backgroundColor:"#2b2b2b",width:i.width<900?"70%":"30%",alignItems:"center",justifyContent:"center"},children:[Object(A.jsx)(b.a,{style:{fontWeight:200,color:"white",fontWeight:"bold",marginBottom:"8%"},children:"Loading file "+be.current+" of "+be.total}),Object(A.jsx)(b.a,{style:{fontWeight:200,color:"white"},children:Math.floor(Z.value/Z.total*100)+" / 100"}),Object(A.jsx)(k.a,{style:{backgroundColor:"white"},progress:Z.value/Z.total,width:200,color:"black"}),Object(A.jsx)(f.a,{style:{backgroundColor:"#ff5c5c",width:"150px",height:"50px",marginTop:Object(O.a)("5%"),justifyContent:"center",alignItems:"center"},onPress:function(){E.abort()},children:Object(A.jsx)(u.a,{children:Object(A.jsx)(b.a,{style:{color:"white"},children:"Cancelled"})})})]})})}),Object(A.jsx)(j.a,{resizeMode:"center",style:{width:i.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(91)}}),Object(A.jsx)(b.a,{style:{color:"white",fontSize:i.width<900?i.width/30:i.width/40,fontWeight:"400",marginTop:Object(O.a)("-2%")},children:t.params.email}),Object(A.jsx)("input",{onChange:function(e){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(Te(e.target.files));case 2:e.target.value="";case 3:case"end":return t.stop()}}),null,null,null,Promise)},id:"fileLoad",type:"file",accept:"*",style:{display:"none"},multiple:!0}),Object(A.jsx)("label",{for:"fileLoad"}),Object(A.jsxs)(u.a,{style:{width:"100%",justifyContent:"center",flexDirection:"row",height:"5%",marginTop:Object(O.a)("3%"),alignItems:"center"},children:[Object(A.jsxs)(f.a,{style:{justifyContent:"center",alignItems:"center"},onPress:function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(AsyncStorage.clear());case 2:Object(v.d)(l),a.push("LogIn");case 4:case"end":return e.stop()}}),null,null,null,Promise)},children:[Object(A.jsx)(S.a,{name:"exit-to-app",color:"white",size:30}),Object(A.jsx)(b.a,{style:{color:"white",fontWeight:200},children:"Logout"})]}),"Photos"!=Y[Y.length-1]?Object(A.jsxs)(f.a,{style:{justifyContent:"center",alignItems:"center",marginLeft:"50px"},onPress:function(){if(1!=Y.length){var e=r()([],Y);e.pop(),_(e),J([])}},children:[Object(A.jsx)(S.a,{name:"keyboard-backspace",color:"white",size:30}),Object(A.jsx)(b.a,{style:{color:"white",fontWeight:200},children:"Back"})]}):null]}),Object(A.jsx)(m.a,{style:{marginTop:"20px",width:"100%",backgroundColor:"#2b2b2b",borderTopLeftRadius:"50px",borderTopRightRadius:"50px"},children:0==N.length&&0==B.length?Object(A.jsxs)(u.a,{style:{width:"100%",alignItems:"center",justifyContent:"center",height:i.height/2},children:[Object(A.jsx)(S.a,{name:"folder-plus-outline",color:"#757575",size:50}),Object(A.jsx)(b.a,{style:{color:"#757575",fontWeight:200},children:"Empty folder"})]}):Object(A.jsxs)(u.a,{children:[Object(A.jsx)(u.a,{style:{width:"100%"},children:Object(A.jsx)(x.a,{numColumns:1,data:N,renderItem:function(e){var t=e.item;return Object(A.jsx)(ze,{id:t.id,data:t.data,name:t.name})},keyExtractor:function(e){return e.id}})}),Object(A.jsx)(u.a,{style:{width:"100%"},children:Object(A.jsx)(x.a,{numColumns:1,data:B,renderItem:function(e){var t=e.item;return Object(A.jsx)(Se,{data:t.data,cid:t.cid,id:t.id,name:t.name,size:t.size,type:t.type,notPrivate:t.notPrivate})},keyExtractor:function(e){return e.id}})})]})})]})}},192:function(e,t,n){"use strict";var a=n(9),r=n.n(a),i=n(7),o=n.n(i),c=(n(77),n(0)),s=n(2),l=n(10),d=n(28),h=n(23),u=n(53),b=n(54),j=n(11),f=n(129),p=n(65),g=n(39),x=n(96),m=n(133),w=n(1);t.a=function(e){var t=e.navigation,a=Object(u.a)(),i=Object(f.a)(x.a.firebaseConfig),O=Object(p.b)(i),y=c.useState(""),v=r()(y,2),T=v[0],k=v[1],C=c.useState(""),S=r()(C,2),z=S[0],I=S[1];return c.useEffect((function(){var e,n;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(m.a.getItem("credentials"));case 2:return e=a.sent,a.next=5,o.a.awrap(JSON.parse(e));case 5:void 0!=(n=a.sent)&&Object(p.c)(O,n.email,n.password).then((function(e){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("Home",{email:n.email,password:n.password});case 1:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){alert("User credentials not valid")}));case 7:case"end":return a.stop()}}),null,null,null,Promise)}),[]),Object(w.jsxs)(s.a,{style:{width:"flex",height:"100%",backgroundColor:"#191919",alignItems:"center"},children:[Object(w.jsx)(d.a,{resizeMode:"center",style:{width:a.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(91)}}),Object(w.jsxs)(s.a,{style:{marginTop:Object(j.a)("1%"),borderRadius:"20px",width:a.width<900?a.width-100:a.width/3,backgroundColor:"#2b2b2b",justifyContent:"center",alignItems:"center"},children:[Object(w.jsx)(l.a,{style:{color:"white",fontSize:Object(j.a)("5%"),fontWeight:"200",marginTop:Object(j.a)("5%")},children:"Login"}),Object(w.jsx)(b.a,{style:{marginTop:Object(j.a)("3%"),height:Object(j.a)("5%"),width:a.width<900?a.width/2:a.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(j.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){k(e)},textContentType:"emailAddress",placeholder:"Email"}),Object(w.jsx)(b.a,{style:{marginTop:Object(j.a)("3%"),height:Object(j.a)("5%"),width:a.width<900?a.width/2:a.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(j.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){I(e)},secureTextEntry:"true",passwordRules:"true",placeholder:"Password"}),Object(w.jsx)(h.a,{style:{marginTop:Object(j.a)("3%"),backgroundColor:"#ff5c5c",width:"150px",height:"40px",justifyContent:"center",alignItems:"center"},onPress:function(){o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.c)(O,T,z).then((function(e){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(m.a.setItem("credentials",JSON.stringify({email:T,password:z})));case 2:t.push("Home",{email:T,password:z});case 3:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){alert("User credentials not valid")}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(w.jsx)(s.a,{children:Object(w.jsx)(l.a,{style:{color:"white"},children:"Send"})})}),Object(w.jsx)(h.a,{style:{marginTop:Object(j.a)("2%")},onPress:function(){t.push("SigIn",{auth:O})},children:Object(w.jsx)(l.a,{style:{fontSize:Object(j.a)("2%"),fontWeight:200,color:"white"},children:"SigIn now"})}),Object(w.jsx)(h.a,{style:{justifyContent:"center",alignItems:"center",marginTop:"3%",marginBottom:Object(j.a)("5%")},onPress:function(){t.push("Settings",{email:""})},children:Object(w.jsx)(g.a,{name:"information-outline",color:"white",size:20})})]})]})}},194:function(e,t,n){"use strict";var a=n(9),r=n.n(a),i=(n(77),n(0)),o=n(2),c=n(10),s=n(28),l=n(23),d=n(53),h=n(54),u=n(11),b=(n(129),n(65)),j=n(18),f=n(1);t.a=function(e){var t=e.route,a=e.navigation,p=Object(d.a)(),g=t.params.auth,x=Object(j.f)(),m=i.useState(""),w=r()(m,2),O=w[0],y=w[1],v=i.useState(""),T=r()(v,2),k=T[0],C=T[1],S=i.useState(""),z=r()(S,2),I=z[0],P=z[1],D=i.useState(""),A=r()(D,2),W=A[0],R=A[1];return Object(f.jsxs)(o.a,{style:{width:"flex",height:"100%",backgroundColor:"#191919",alignItems:"center"},children:[Object(f.jsx)(s.a,{resizeMode:"center",style:{width:p.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(91)}}),Object(f.jsxs)(o.a,{style:{marginTop:Object(u.a)("1%"),borderRadius:"20px",width:p.width<900?p.width-100:p.width/3,backgroundColor:"#2b2b2b",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(c.a,{style:{color:"white",fontSize:Object(u.a)("5%"),fontWeight:"200",marginTop:Object(u.a)("5%")},children:"SigIn"}),Object(f.jsx)(h.a,{style:{marginTop:Object(u.a)("3%"),height:Object(u.a)("5%"),width:p.width<900?p.width/2:p.width/4,borderColor:"black",backgroundColor:"white",borderWidth:"1px",borderRadius:Object(u.a)("5%"),textAlign:"center"},onChangeText:function(e){y(e)},textContentType:"name",placeholder:"Name"}),Object(f.jsx)(h.a,{style:{marginTop:Object(u.a)("3%"),height:Object(u.a)("5%"),width:p.width<900?p.width/2:p.width/4,borderColor:"black",backgroundColor:"white",borderWidth:"1px",borderRadius:Object(u.a)("5%"),textAlign:"center"},onChangeText:function(e){C(e)},placeholder:"Surname"}),Object(f.jsx)(h.a,{style:{marginTop:Object(u.a)("3%"),height:Object(u.a)("5%"),width:p.width<900?p.width/2:p.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(u.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){P(e)},textContentType:"emailAddress",placeholder:"Email"}),Object(f.jsx)(h.a,{style:{marginTop:Object(u.a)("3%"),height:Object(u.a)("5%"),width:p.width<900?p.width/2:p.width/4,borderColor:"black",borderWidth:"1px",borderRadius:Object(u.a)("5%"),textAlign:"center",backgroundColor:"white"},onChangeText:function(e){R(e)},secureTextEntry:"true",passwordRules:"true",placeholder:"Password"}),Object(f.jsx)(l.a,{style:{marginTop:Object(u.a)("3%"),backgroundColor:"#ff5c5c",width:"150px",height:"40px",justifyContent:"center",alignItems:"center"},onPress:function(){""!=O&&""!=k&&""!=I&&""!=W?W.length>=6?Object(b.a)(g,I.trim(),W.trim()).then((function(){Object(j.i)(Object(j.d)(x,"Utenti",I.replaceAll(".","DOT").trim()),{nome:O.trim(),cognome:k.trim()}),a.goBack(),alert("Registration has been completed successfully")})).catch((function(e){console.log(e),alert("This email already exist or is invalid")})):alert("Password has to be at least 6 character"):alert("Complete all fields")},children:Object(f.jsx)(o.a,{children:Object(f.jsx)(c.a,{style:{color:"white"},children:"Send"})})}),Object(f.jsx)(l.a,{style:{marginTop:Object(u.a)("2%"),marginBottom:Object(u.a)("5%")},onPress:function(){return a.goBack()},children:Object(f.jsx)(c.a,{style:{fontSize:Object(u.a)("2%"),fontWeight:200,color:"white"},children:"Go back"})})]})]})}},195:function(e,t,n){"use strict";var a=n(9),r=n.n(a),i=n(7),o=n.n(i),c=(n(77),n(0)),s=n(2),l=n(10),d=n(23),h=n(53),u=n(60),b=n(28),j=n(44),f=n(11),p=n(18),g=n(81),x=n(39),m=(n(158),n(1));t.a=function(e){var t=e.route,a=e.navigation,i=Object(h.a)(),w=(Object(p.f)(),c.useState(!1)),O=r()(w,2),y=O[0];O[1];return Object(m.jsxs)(j.a,{style:{backgroundColor:"#191919"},contentContainerStyle:{width:"flex",backgroundColor:"#191919",alignItems:"center"},children:[Object(m.jsx)(g.a,{visible:y,textStyle:{color:"white"},children:Object(m.jsx)(s.a,{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:Object(m.jsx)(u.a,{color:"white",size:"large"})})}),Object(m.jsx)(b.a,{resizeMode:"center",style:{width:i.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(91)}}),Object(m.jsx)(l.a,{style:{color:"white",fontSize:i.width<900?i.width/30:i.width/40,fontWeight:"400",marginTop:Object(f.a)("-2%")},children:t.params.email}),Object(m.jsx)(s.a,{style:{width:"100%",justifyContent:"center",flexDirection:"row",height:"5%",marginTop:Object(f.a)("3%"),alignItems:"center"},children:Object(m.jsxs)(d.a,{style:{justifyContent:"center",alignItems:"center"},onPress:function(){a.goBack()},children:[Object(m.jsx)(x.a,{name:"keyboard-backspace",color:"white",size:30}),Object(m.jsx)(l.a,{style:{color:"white",fontWeight:200},children:"Back"})]})}),Object(m.jsxs)(s.a,{style:{borderRadius:"20px",backgroundColor:"#2b2b2b",width:"70%",alignItems:"center",marginTop:i.height/20},children:[Object(m.jsxs)(l.a,{style:{color:"white",textAlign:"center",width:i.width/2,marginTop:"5%"},children:["Hi everyone, this is"," ",Object(m.jsx)(l.a,{style:{color:"#ff5c5c",fontWeight:"bold"},children:"DArchive"})," ","a decentralized storage service. It is based on the use of"," ",Object(m.jsx)(l.a,{style:{color:"#ff5c5c",fontWeight:"bold"},children:Object(m.jsx)("a",{href:"https://web3.storage/",style:{color:"#ff5c5c"},target:"_blank",children:"Web3.storage"})})," ","that allows to get data persisted by"," ",Object(m.jsx)(l.a,{style:{color:"#ff5c5c",fontWeight:"bold"},children:Object(m.jsx)("a",{href:"https://filecoin.io/",style:{color:"#ff5c5c"},target:"_blank",children:"Filecoin"})})," ","and available over"," ",Object(m.jsxs)(l.a,{style:{color:"#ff5c5c",fontWeight:"bold"},children:[" ",Object(m.jsx)("a",{href:"https://ipfs.io/",style:{color:"#ff5c5c"},target:"_blank",children:"IPFS"})]})," ",". Files are encrypted using the AES algorithm and their security is based on the selected password.","\n","Enjoy it!\ud83d\ude01"]}),Object(m.jsx)(l.a,{style:{color:"white",fontWeight:"bold",fontSize:"20px",marginTop:"5%"},children:"Follow the project on"}),Object(m.jsxs)(s.a,{style:{width:"100%",alignItems:"center",flexDirection:"row",justifyContent:"center"},children:[Object(m.jsx)(d.a,{style:{marginTop:Object(f.a)("3%"),marginBottom:"3%",justifyContent:"center",alignItems:"center"},onPress:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:window.open().location.href="https://t.me/Darchive5";case 2:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(m.jsx)(b.a,{style:{width:i.width>900?"50px":"40px",height:i.width>900?"50px":"40px",resizeMode:"cover"},source:{uri:n(260)}})}),Object(m.jsx)(d.a,{style:{marginTop:Object(f.a)("3%"),marginBottom:"3%",marginLeft:"2%",justifyContent:"center",alignItems:"center"},onPress:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:window.open().location.href="https://github.com/vincenzoAiello/DArchive";case 2:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(m.jsx)(b.a,{style:{width:i.width>900?"50px":"40px",height:i.width>900?"50px":"40px",resizeMode:"cover"},source:{uri:n(261)}})})]}),Object(m.jsx)(s.a,{style:{width:"100%",height:"10%"}})]})]})}},196:function(e,t,n){"use strict";var a=n(9),r=n.n(a),i=n(7),o=n.n(i),c=(n(77),n(0)),s=n(2),l=n(10),d=n(23),h=n(53),u=n(60),b=n(28),j=n(44),f=n(11),p=n(18),g=n(81),x=n(39),m=(n(158),n(128)),w=n.n(m),O=n(1);t.a=function(e){var t=e.route,a=e.navigation,i=Object(h.a)(),m=(Object(p.f)(),c.useState(!1)),y=r()(m,2),v=y[0],T=(y[1],c.useState("")),k=r()(T,2),C=k[0],S=k[1];return c.useEffect((function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(w.a.get("https://api.web3.storage/status/"+t.params.cid));case 2:e.sent.data.deals.length>0?S("Pinned"):S("Queuing");case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[]),Object(O.jsxs)(j.a,{style:{backgroundColor:"#191919"},contentContainerStyle:{width:"flex",backgroundColor:"#191919",alignItems:"center"},children:[Object(O.jsx)(g.a,{visible:v,textStyle:{color:"white"},children:Object(O.jsx)(s.a,{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:Object(O.jsx)(u.a,{color:"white",size:"large"})})}),Object(O.jsx)(b.a,{resizeMode:"center",style:{width:i.width/2,height:"250px",marginTop:"-20px"},source:{uri:n(91)}}),Object(O.jsx)(l.a,{style:{color:"white",fontSize:i.width<900?i.width/30:i.width/40,fontWeight:"400",marginTop:Object(f.a)("-2%")},children:t.params.email}),Object(O.jsx)(s.a,{style:{width:"100%",justifyContent:"center",flexDirection:"row",height:"5%",marginTop:Object(f.a)("3%"),alignItems:"center"},children:Object(O.jsxs)(d.a,{style:{justifyContent:"center",alignItems:"center"},onPress:function(){a.goBack()},children:[Object(O.jsx)(x.a,{name:"keyboard-backspace",color:"white",size:30}),Object(O.jsx)(l.a,{style:{color:"white",fontWeight:200},children:"Back"})]})}),Object(O.jsx)(b.a,{source:n(157),style:{width:"90px",aspectRatio:.7,height:"110px",borderRadius:Object(f.a)("5%"),marginTop:"5%"}}),Object(O.jsx)(l.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Status"}),Object(O.jsx)(l.a,{style:{color:"Pinned"==C?"green":"red",fontSize:"20px",marginTop:"1%",fontWeight:"200"},children:C}),Object(O.jsx)(l.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Name"}),Object(O.jsx)(l.a,{style:{color:"white",fontSize:"20px",marginTop:"1%",fontWeight:"200"},children:t.params.name}),Object(O.jsx)(l.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Size"}),Object(O.jsx)(l.a,{style:{color:"white",fontSize:"20px",marginTop:"1%",fontWeight:"200"},children:(t.params.size/1e6).toFixed(2)+"MB"}),Object(O.jsx)(l.a,{style:{color:"white",fontWeight:"bold",fontSize:"25px",marginTop:"3%"},children:"Loading date"}),Object(O.jsx)(l.a,{style:{color:"white",fontSize:"20px",marginTop:"1%",fontWeight:"200",marginBottom:"2%"},children:new Date(t.params.data).toLocaleString()})]})}},206:function(e,t,n){e.exports=n(273)},254:function(e,t,n){e.exports=n.p+"static/media/filePublic.2537e54c.png"},258:function(e,t,n){e.exports=n.p+"static/media/folder.5107a6da.png"},260:function(e,t,n){e.exports=n.p+"static/media/Telegram.10b71eb5.png"},261:function(e,t,n){e.exports=n.p+"static/media/github.81533a6b.png"},91:function(e,t,n){e.exports=n.p+"static/media/logo.deaa9c5a.png"},96:function(e,t,n){"use strict";t.a={firebaseConfig:{apiKey:"AIzaSyDxqS-2MmrVRbhmg49Bx2P1b4f_lFeSkQ0",authDomain:"ounn-ea631.firebaseapp.com",databaseURL:"https://ounn-ea631-default-rtdb.firebaseio.com",projectId:"ounn-ea631",storageBucket:"ounn-ea631.appspot.com",messagingSenderId:"111990065034",appId:"1:111990065034:web:1b1a4a2fd6d9aef5db6a73",measurementId:"G-YL3CYJJN58"},Web3StorageToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweGE4MjU5MDcyYkUxRmEwODhhZTA3MTI3OTg2NDVEY0VBRjFGNDMzREQiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTgyMjcyNTE1MTgsIm5hbWUiOiJvbm4ifQ.6AAz_KHuowFfJcxlf0jHbRoVEAKMv6iER_WSYkaUtr0"}}},[[206,1,2]]]);
//# sourceMappingURL=app.3cada714.chunk.js.map